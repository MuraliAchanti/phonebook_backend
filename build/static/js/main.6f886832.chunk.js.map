{"version":3,"sources":["components/filter.js","components/personform.js","components/persons.js","components/banner.js","services/phonebook.js","index.js"],"names":["Filter","value","handleFilter","onChange","PersonForm","props","onSubmit","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","filter","handleDelete","person","name","toLowerCase","includes","map","key","number","onClick","id","Banner","banner","bannerStyle","color","error","background","fontSize","borderStyle","borderRadius","padding","marginBottom","message","style","hidden","show","baseUrl","axios","get","then","response","data","catch","alert","newObject","post","delete","status","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setBanner","useEffect","phonebook","createBanner","setTimeout","event","target","console","log","preventDefault","some","window","confirm","oldPerson","find","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f886832.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({value,handleFilter}) => {\n    return (\n        <div>\n            filter with shown : <input value = {value} onChange = {handleFilter}/>\n        </div>\n    )\n}\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = (props) => {\n\n    return (\n        <>\n            <h2>add new</h2>\n            <form onSubmit = {props.handleSubmit}>\n                <div>\n                name: <input value = {props.newName} onChange = {props.handleNameChange}/>\n                </div>\n                <div>\n                number: <input value = {props.newNumber} onChange = {props.handleNumberChange}/>\n                </div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default PersonForm;","import React, { useEffect } from 'react'\n\nconst Persons = ({persons,filter,handleDelete}) => {\n    \n    const handleFilter = () => {\n        var list = persons.filter((person) => filter === '' ? true : person.name.toLowerCase().includes(filter))\n            .map((person) => <li key = {person.name}>{person.name} : {person.number} <button onClick = {() => handleDelete(person.id)}>DELETE</button></li>)    \n        return list;\n    }\n\n    return (\n        <>\n            <h2>Numbers</h2>\n            <ul>\n                {handleFilter()}\n            </ul>\n        </>\n    )\n}\n\nexport default Persons;","import React from 'react'\n\nconst Banner = ({banner}) => {\n\nconst bannerStyle = {\n    color: banner.error ? 'red' : 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\n    if(banner.message == null)\n        return null\n    return (\n        <div style = {bannerStyle} hidden = {!banner.show}>\n            {banner.message}\n        </div>\n    )\n}\n\nexport default Banner;","import axios from 'axios'\n\nconst baseUrl = '/api/phonebook'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n                .then(response => response.data)\n                .catch(error => alert(error))\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.status)  \n  }\n\nconst update = newObject => {\n  const request = axios.put(`${baseUrl}/${newObject.id}`,newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson,update }","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Filter from './components/filter'\nimport PersonForm from './components/personform'\nimport Persons from './components/persons'\nimport Banner from './components/banner'\n\nimport phonebook from './services/phonebook'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ banner,setBanner ] = useState({ message:\"DEFAULT MESSAGE\",error:false,show:false })\n  //const [ flags,setFlags ] = useState({ error:false,show:false })\n\n  useEffect(() => {\n    phonebook.getAll()\n    .then(persons => \n      setPersons(persons))\n  })\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const createBanner = (banner) => {\n    setBanner(banner)\n    setTimeout(() => {\n      setBanner({ message: null,error:false,show:false})\n    },5000)\n  }\n\n  const handleSubmit = (event) => {\n    console.log(\"Submit\")\n    event.preventDefault();\n    if(persons.some((person) => person.name === newName && person.number === newNumber))\n      window.alert(`${newName} is already added to the phone book`);\n    else if(persons.some((person) => person.name === newName && person.number !== newNumber))\n    {\n      if(window.confirm(`${newName} is already added to the phonebook, replace the old number with the new number`))\n      {\n        const oldPerson = persons.find(person => person.name === newName)\n        phonebook.update({...oldPerson,number : newNumber})\n          .then(response => {\n            createBanner({ message:`${response.name}'s number has been updated`,error:false,show:true})\n            setPersons(persons.map(person => person.id === response.id ? response : person))\n          })\n          .catch(error => {\n            createBanner({ message:`${newName} has already been removed from the phone book`,error:true,show:true})\n          })\n      }\n    }\n    else\n    {\n      phonebook\n      .create({name:newName,number:newNumber})\n      .then(returnedPerson => {\n        createBanner({ message:`${returnedPerson.name} has been added to the phonebook`,error:false,show:true})\n        setPersons(persons.concat(returnedPerson))\n      })\n      .catch(error => {\n        createBanner({ message:error.response.data.error,error:true,show:true})\n      })\n    }\n    setNewName('')\n    setNewNumber('')\n    setFilter('')\n  }\n    \n  const handleFilter = (event) => {\n    setFilter(event.target.value.toLowerCase());\n  }\n\n  const handleDelete = (id) => {\n    if(window.confirm(\"Do you really want to delete\"))\n    {\n      phonebook.deletePerson(id)\n          .then(response => {\n            setPersons(persons.filter(person => person.id !== id))\n            console.log(persons)\n          })\n          .catch(error => {\n            createBanner({ message:`${persons.find(person => person.id === id).name} could not be deleted from the phone book`,error:true,show:true})\n          })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Banner banner = {banner}/>\n      <Filter value = {filter} handleFilter = {handleFilter} />\n      <PersonForm newName = {newName} newNumber = {newNumber} \n        handleNameChange = {handleNameChange} handleNumberChange = {handleNumberChange} handleSubmit = {handleSubmit} />\n      <Persons persons = {persons} filter = {filter} handleDelete = {handleDelete}/>\n    </div>\n  )\n}\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}